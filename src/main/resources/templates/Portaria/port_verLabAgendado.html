<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" 
              integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous"/> 
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script> 

        <title>Portaria</title>
        <meta http-equiv="Content-Type" 
              content="text/html; charset=UTF-8" />
    </head>

    <body style="background-color: #ffffff">

        <div  style="background-color: #ff6600" id="list-item-1">

            <div class="row">
                <div class="col-3">
                    <img style="width: 172px;height: 120px"   src="/logoPitagoras.jpg"/> 
                </div>
                <div class="col-9">
                    <p><h3 th:text="${user.funcao.nomeFuncao}"/></p>
                    <p><h4>Bem vindo ao Sistema <label th:text="${user.nomeFuncionario}" /></h4></p> 
                </div>

            </div>

        </div>
        <div class="row" >

            <div style="float:left;
                 text-align: center;">

                <div id="accordion" role="tablist">
                    <div class="card" style=" background-color: #ff6600">
                        <div class="card-header" role="tab" id="headingOne">
                            <h5 class="mb-0">
                                <a class="collapsed" data-toggle="collapse" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne" 
                                   style="color: white; text-decoration: none">
                                    <div style="float: left;"> 
                                        Laboratórios &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </div>
                                    <div style="float: left;">
                                        <i class="material-icons">></i>
                                    </div>
                                </a>
                            </h5>
                        </div>

                        <div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="card-body" style="background-color: #f7ba5e;">
                                <p style="margin: 1px;margin-left: 5px;text-align: center">
                                    <a th:href="@{'/Portaria/port_verLabDisponivel?fun='+${user.Cod_funcio}}" style="text-decoration: none">
                                        Disponíveis

                                    </a>
                                </p>
                                <hr/>

                                <p style="margin: 1px;margin-left: 5px;text-align: center">
                                    <a th:href="@{'/Portaria/port_verLabAgendado?fun='+${user.Cod_funcio}}" style="text-decoration: none">
                                        Reservados
                                    </a>
                                </p>
                                <hr/>
                                <p style="margin: 1px;margin-left: 5px;text-align: center">
                                    <a th:href="@{'/Portaria/port_verLabEmUso?fun='+${user.Cod_funcio}}" style="text-decoration: none">
                                        Em uso

                                    </a>
                                </p>
                                <hr/>
                                <p style="margin: 1px;margin-left: 5px;text-align: center">
                                    <a th:href="@{'/Portaria/port_vertTodos?fun='+${user.Cod_funcio}}" style="text-decoration: none">
                                        Todos

                                    </a>
                                </p>

                            </div>
                        </div>

                    </div>

                    <div class="card" style=" background-color: #ff6600">
                        <div class="card-header" role="tab" id="headingOne1">
                            <h5 class="mb-0">
                                <a class="collapsed" data-toggle="collapse" href="#collapseOne1" aria-expanded="false" aria-controls="collapseOne1" 
                                   style="color: white; text-decoration: none">
                                    <div style="float: left;"> 
                                        Chaves&nbsp;
                                    </div>
                                    <div style="float: left;">
                                        <i class="material-icons">></i>
                                    </div>
                                </a>
                            </h5>
                        </div>

                        <div id="collapseOne1" class="collapse" role="tabpanel" aria-labelledby="headingOne1" data-parent="#accordion">
                            <div class="card-body" style="background-color: #f7ba5e;">
                                <p style="margin: 1px;margin-left: 5px;text-align: center">
                                    Disponíveis

                                </p>
                                <hr/>

                                <p style="margin: 1px;margin-left: 5px;text-align: center">Emprestadas </p>
                            </div>
                        </div>
                    </div>

                </div>


                <div style="margin-top: 2%">                
                    <a href="/logar" type="button" class="btn btn-warning btn-sm"
                       style="position: relative">Sair</a>

                    <a href="" type="button" class="btn btn-warning btn-sm"
                       style="position: relative">?</a>

                </div>  
            </div>

            <div class="container" style="float:left;position: relative;
                 margin-left: 1%;background-color: #ffffff;width: auto;height: auto">  
         
                <span><h3>Laboratórios Reservados</h3></span>

                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Data</th>
                            <th scope="col">Horario</th>
                            <th scope="col">Nome do Laboratorio</th>
                            <th scope="col">Andar</th>
                            <th scope="col">Professor</th>
                            <th scope="col">Chave</th>

                        </tr>

                    </thead>
                    <tbody> <tr th:each="reserva : ${reservas}" th:if="${reserva.status[0].situacao == true}">
                            <td th:text ="${reserva.dataReserva}"></td>
                            <td>1º horario manha</td>
                            <td  th:text = "${reserva.laboratorio.nomeLab}"></td>
                            <td  th:text = "${reserva.laboratorio.andar}"></td>
                            <td th:text ="${reserva.status[0].professor.nomeFuncionario}" ></td> 
                            <td th:text ="${reserva.status[0].descricaoChave.descriChave}" ></td>

                        </tr>

                        <tr th:each="reserva : ${reservas}" th:if="${reserva.status[1].situacao == true}"> 
                            <td th:text ="${reserva.dataReserva}"></td>
                            <td>2º horario manha</td>                           
                            <td  th:text = "${reserva.laboratorio.nomeLab}"></td>
                            <td  th:text = "${reserva.laboratorio.andar}"></td>
                            <td th:text ="${reserva.status[1].professor.nomeFuncionario}"></td>
                            <td th:text ="${reserva.status[1].descricaoChave.descriChave}" ></td>
                        </tr>
                        <tr th:each="reserva : ${reservas}" th:if="${reserva.status[2].situacao == true}">
                            <td th:text ="${reserva.dataReserva}"></td>                                
                            <td>1º horario tarde</td>                               
                            <td  th:text = "${reserva.laboratorio.nomeLab}"></td>
                            <td  th:text = "${reserva.laboratorio.andar}"></td>
                            <td th:text ="${reserva.status[2].professor.nomeFuncionario}"  ></td>   
                            <td th:text ="${reserva.status[2].descricaoChave.descriChave}" ></td> 

                        </tr>
                        <tr th:each="reserva : ${reservas}" th:if="${reserva.status[3].situacao == true}">
                            <td th:text ="${reserva.dataReserva}"></td>
                            <td>2º horario tarde</td>    
                            <td  th:text = "${reserva.laboratorio.nomeLab}"></td>
                            <td  th:text = "${reserva.laboratorio.andar}"></td>
                            <td th:text ="${reserva.status[3].professor.nomeFuncionario}" ></td> 
                            <td th:text ="${reserva.status[3].descricaoChave.descriChave}" ></td> 
                        </tr>
                        <tr th:each="reserva : ${reservas}" th:if="${reserva.status[4].situacao == true}">

                            <td th:text ="${reserva.dataReserva}"></td>
                            <td>1º horario noite</td>                            
                            <td  th:text = "${reserva.laboratorio.nomeLab}"></td>
                            <td  th:text = "${reserva.laboratorio.andar}"></td>
                            <td th:text ="${reserva.status[4].professor.nomeFuncionario}"   ></td>  
                            <td th:text ="${reserva.status[4].descricaoChave.descriChave}" ></td>

                        </tr>
                        <tr th:each="reserva : ${reservas}" th:if="${reserva.status[5].situacao == true}">

                            <td th:text ="${reserva.dataReserva}"></td>
                            <td>2º horario noite</td>                                
                            <td  th:text = "${reserva.laboratorio.nomeLab}"></td>
                            <td  th:text = "${reserva.laboratorio.andar}"></td>
                            <td th:text ="${reserva.status[5].professor.nomeFuncionario}"     ></td>
                            <td th:text ="${reserva.status[5].descricaoChave.descriChave}" ></td> 
                        </tr>
                    </tbody>
                </table>
                
            </div>


        </div>
    </body>
</html>